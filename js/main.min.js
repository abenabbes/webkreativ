const menuItems=[{id:1,label:"Accueil",href:"#accueil"},{id:2,label:"Services",href:"#services"},{id:3,label:"Réalisations",href:"#realisations"},{id:4,label:"À propos",href:"#apropos"},{id:5,label:"Contact",href:"#contact"}];function toggleMobileMenu(){const mobileMenu=document.getElementById("mobileMenu");mobileMenu.classList.toggle("hidden")}function scrollToContact(){document.getElementById("contact").scrollIntoView({behavior:"smooth"})}function scrollToRealisations(){document.getElementById("realisations").scrollIntoView({behavior:"smooth"})}function initScrollAnimations(){const elements=document.querySelectorAll(".scroll-animate");const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible")}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});elements.forEach(el=>observer.observe(el))}function showUpdateNotification(){const bar=document.createElement("div");bar.innerHTML=`\n    🔁 Nouvelle version du site disponible.\n    <button id="reloadBtn" style="\n      margin-left:10px;\n      background:#fff;\n      color:#007BFF;\n      border:none;\n      padding:6px 10px;\n      border-radius:4px;\n      cursor:pointer;\n      font-weight:bold;\n    ">Recharger</button>\n  `;Object.assign(bar.style,{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"#007BFF",color:"white",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",zIndex:9999,display:"flex",alignItems:"center",fontFamily:"sans-serif"});document.body.appendChild(bar);document.getElementById("reloadBtn").addEventListener("click",()=>{bar.remove();window.location.reload()})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));if(target){target.scrollIntoView({behavior:"smooth"})}})});initScrollAnimations();document.querySelectorAll("#mobileMenu a").forEach(link=>{link.addEventListener("click",()=>{document.getElementById("mobileMenu").classList.add("hidden")})});if("serviceWorker"in navigator){navigator.serviceWorker.register("/webkreativ/service-worker.js").then(reg=>{console.log("✅ Service Worker enregistré :",reg.scope);reg.onupdatefound=()=>{const newWorker=reg.installing;if(!newWorker)return;newWorker.onstatechange=()=>{if(newWorker.state==="installed"&&navigator.serviceWorker.controller){console.log("🔁 Nouvelle version détectée");showUpdateNotification()}}}}).catch(err=>console.error("❌ Erreur lors de l’enregistrement du SW :",err));let refreshing=false;navigator.serviceWorker.addEventListener("controllerchange",()=>{if(refreshing)return;refreshing=true;window.location.reload()})}});